{"version":3,"sources":["components/searchbar/Searchbar.module.css","components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/spinner/Spinner.module.css","components/searchbar/Searchbar.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/imageGallery/ImageGallery.jsx","components/button/Button.jsx","components/modal/Modal.jsx","components/spinner/Spinner.jsx","components/API/API.jsx","App.js","index.js"],"names":["module","exports","toast","configure","Searchbar","state","query","searchQuery","e","setState","currentTarget","value","handleSubmit","preventDefault","trim","props","onSubmit","error","className","s","SearchForm","this","type","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","itemId","webformatURL","tags","onClick","src","alt","ImageGallery","data","openModal","getImageForModal","map","id","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","largeImageUrl","Spinner","spinner","color","height","width","timeout","API","page","axios","get","then","res","status","hits","transition","Flip","scrollPageDown","scrollTo","top","documentElement","scrollHeight","behavior","App","showModal","images","loading","modalContent","pageIncrement","handleFormSubmit","toggleModal","element","find","largeImageURL","prevProps","prevState","currentQuery","currentPage","prevQuery","prevPage","length","warn","Bounce","finally","isNotLastPage","btnEnable","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.58e1d89b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2tzmH\",\"SearchForm\":\"Searchbar_SearchForm__1mb-1\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2tpzd\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2fuS-\",\"SearchForm-input\":\"Searchbar_SearchForm-input__17blb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__hr8AC\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2Q70Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__quBKt\",\"Modal\":\"Modal_Modal__zdaEj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__VywSQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__38t_-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__572ds\"};","import React, {Component} from 'react';\r\nimport { toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { IoIosSearch } from \"react-icons/io\";\r\nimport s from '../searchbar/Searchbar.module.css';\r\n// import PropTypes from 'prop-types';\r\n\r\ntoast.configure()\r\n\r\nexport default class Searchbar extends Component{\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n  \r\n  searchQuery = e  => { this.setState({ query:  e.currentTarget.value})}\r\n\r\n  handleSubmit = e => {\r\n        e.preventDefault();\r\n         if (this.state.query.trim() === '') {\r\n          toast.error('Please, enter a name!');\r\n          return;\r\n        }\r\n        this.setState({query: ''})\r\n        this.props.onSubmit(this.state.query);\r\n    }\r\n\r\nrender(){\r\n  return (\r\n     <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className={s['SearchForm-button']}>< IoIosSearch/>\r\n        </button>\r\n\r\n        <input\r\n          name='query'\r\n          className={s['SearchForm-input']}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.searchQuery}\r\n          value={this.state.query}\r\n        />\r\n      </form>\r\n    </header>\r\n   )\r\n}\r\n}\r\n// Searchbar.propTypes = {\r\n//   onSubmit: PropTypes.func.isRequired,\r\n// };\r\n","import PropTypes from 'prop-types';\r\nimport s from '../imageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ itemId, webformatURL, tags, onClick}) {\r\n  return (\r\n     <li className={s.ImageGalleryItem}  >\r\n        <img className={s['ImageGalleryItem-image']} src={webformatURL} alt={tags} onClick={() => { onClick(itemId) }} />\r\n     </li>\r\n    )\r\n\r\n}\r\n//  {}()   :\r\nImageGalleryItem.propTypes = {\r\n      onClick:PropTypes.func,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string,\r\n  \r\n}; ","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from 'components/imageGalleryItem/ImageGalleryItem';\r\nimport s from '../imageGallery/ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ data,openModal, getImageForModal}) {\r\n  return (\r\n      <ul className={s.ImageGallery} onClick={openModal}>\r\n          {data.map(({ id, webformatURL, tags }) => {\r\n            return (\r\n              <ImageGalleryItem \r\n                key={id}\r\n                webformatURL={webformatURL }\r\n                tags={tags}\r\n                onClick={getImageForModal}\r\n                itemId={id}\r\n              />\r\n            );\r\n      })}\r\n      </ul>\r\n    )\r\n   }\r\n\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string,\r\n    })\r\n  ),\r\n  openModal: PropTypes.func,\r\n  getImageForModal: PropTypes.func,\r\n};","import s from '../button/Button.module.css';\r\n\r\nexport default function Button({onClick}) {\r\n    return (\r\n        <button type='button' onClick={onClick} className={s.Button} >More</button>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from '../modal/Modal.module.css';\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default class Modal extends Component {\r\n    static propTypes = {\r\n        largeImageUrl: PropTypes.string.isRequired,\r\n        \r\n    };\r\n    componentDidMount() {\r\n       \r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n    handleKeyDown = (e) => {\r\n            if (e.code === 'Escape') {\r\n                this.props.onClose()\r\n            }\r\n            \r\n    }\r\n    handleBackdropClick = (e) => {\r\n            if (e.currentTarget === e.target) {\r\n                this.props.onClose()\r\n            }\r\n            \r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    \r\n    //   toggleModal = ()=>{}\r\n    render(){\r\n        \r\n        return createPortal(\r\n        <div className={s.Overlay} onClick={this.handleBackdropClick} >\r\n            <div className={s.Modal}>\r\n                    <img src={this.props.largeImageUrl} alt=\"\" />\r\n            </div>\r\n        </div>,\r\n        modalRoot\r\n        // <button>Modal</button>\r\n    )\r\n\r\n    }\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from '../spinner/Spinner.module.css';\r\n\r\nexport default function Spinner() {\r\n    return (\r\n         \r\n        <div>\r\n            <Loader\r\n                className = { s.spinner }\r\n                    type=\"ThreeDots\"\r\n                    color=\"#3f51b5\"\r\n                    height={100}\r\n                    width={100}\r\n                    timeout={3000} //3 secs  \r\n          />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import axios from 'axios';\r\nimport { toast, Flip, Bounce } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nconst API_KEY = '23477819-44226e1e125dfcf9362a81201';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\ntoast.configure()\r\n\r\nexport default  function  API (query, page) {\r\n      return axios.get(`${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`).then((res => {\r\n         if (res.status === 200) {\r\n            const { hits } = res.data;\r\n            return hits;\r\n         \r\n         }       \r\n        if (res.status === 404) {\r\n          toast.error('Images are not exist', { transition: Flip });\r\n        }\r\n                \r\n      })\r\n      )\r\n   }\r\n","import React, { Component } from 'react';\r\nimport { toast, Flip, Bounce } from 'react-toastify'\r\n\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport Searchbar from 'components/searchbar/Searchbar'\r\nimport ImageGallery from 'components/imageGallery/ImageGallery'\r\nimport Button from 'components/button/Button'\r\nimport Modal from 'components/modal/Modal'\r\nimport Spinner from 'components/spinner/Spinner'\r\nimport API from 'components/API/API'\r\n\r\ntoast.configure()\r\n\r\nfunction scrollPageDown() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    showModal: false,\r\n    images: [],\r\n    loading: false,\r\n    query: '',\r\n    page: 1,\r\n    modalContent:'',\r\n      \r\n  }\r\n\r\n  pageIncrement = () => {\r\n    this.setState({ page: this.state.page + 1})\r\n  };\r\n\r\n  handleFormSubmit = query => {\r\n    this.setState({ query: query, page: 1  })\r\n  };\r\n  \r\n  componentDidUpdate(prevProps, prevState) {\r\n   \r\n    const { query: currentQuery, page: currentPage } = this.state;\r\n    const { query: prevQuery, page: prevPage } = prevState;\r\n\r\n    if (prevQuery !== currentQuery) {\r\n        this.setState({ loading: true })\r\n      this.setState({ page: 1 , images:[]});\r\n      API(currentQuery, currentPage).then(hits => {\r\n     \r\n          if (hits.length === 0 ) {\r\n           toast.warn('There are no images. Try another request, please', {\r\n             transition: Bounce\r\n           });\r\n        }\r\n        \r\n        this.setState({ images: [...hits] });\r\n        scrollPageDown();\r\n      }).finally(() => { return this.setState({ loading: false }) })\r\n    }\r\n\r\n    if (prevPage !== currentPage) {\r\n        this.setState({ loading: true })\r\n      API(currentQuery, this.state.page).then(\r\n        hits => {\r\n          this.setState(prevState => ({ images: [...prevState.images, ...hits] }))\r\n          scrollPageDown();\r\n        }\r\n      ).finally(() => { return this.setState({ loading: false }) })\r\n    }\r\n  }\r\n\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal\r\n    }))\r\n  };\r\n\r\n  getImageForModal = (itemId) => {\r\n    const { images } = this.state;\r\n    const element = images.find(({ id }) => id === itemId);\r\n    this.setState({ modalContent: element.largeImageURL });\r\n  \r\n  };\r\n\r\n\r\n  render() {\r\n    const  { images, page, loading, showModal,modalContent } = this.state;\r\n    const isNotLastPage = images.length / page === 12;\r\n    const btnEnable = images.length > 0 && !loading && isNotLastPage;\r\n   \r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        {images.length !== 0  && <ImageGallery data={images} getImageForModal={this.getImageForModal} openModal={this.toggleModal} />}\r\n        {loading  && <Spinner />}\r\n        {showModal && <Modal onClose={this.toggleModal} largeImageUrl={modalContent} />}\r\n        {btnEnable  && <Button onClick={this.pageIncrement} />}\r\n      </>\r\n    )\r\n           \r\n  };\r\n\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}